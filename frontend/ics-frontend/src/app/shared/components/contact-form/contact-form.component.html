<div class="contact-form">
  <form class="contact-form__form" (ngSubmit)="onSubmit()">
    <div class="contact-form__field">
      <label class="contact-form__label" for="userType">I am a:</label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10ZM10 12.5C6.66667 12.5 0 14.175 0 17.5V20H20V17.5C20 14.175 13.3333 12.5 10 12.5Z" fill="currentColor"/>
        </svg>
        <select
          class="contact-form__select"
          id="userType"
          name="userType"
          [(ngModel)]="formData.userType"
          (ngModelChange)="onUserTypeChange()"
          required>
          <option value="company">Company looking to hire</option>
          <option value="client">Client</option>
          <option value="applicant">Applicant</option>
        </select>
      </div>
    </div>

    <div class="contact-form__field">
      <label class="contact-form__label" for="fullName">Full Name</label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" fill="currentColor"/>
          <path d="M10 12.5C6.66667 12.5 0 14.175 0 17.5V20H20V17.5C20 14.175 13.3333 12.5 10 12.5Z" fill="currentColor"/>
        </svg>
        <input
          class="contact-form__input"
          type="text"
          id="fullName"
          name="fullName"
          placeholder="Enter your full name"
          [(ngModel)]="formData.fullName"
          required>
      </div>
    </div>

    <div class="contact-form__field">
      <label class="contact-form__label" for="email">Email Address</label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M18 4H2C0.9 4 0.01 4.9 0.01 6L0 14C0 15.1 0.9 16 2 16H18C19.1 16 20 15.1 20 14V6C20 4.9 19.1 4 18 4ZM18 8L10 12.5L2 8V6L10 10.5L18 6V8Z" fill="currentColor"/>
        </svg>
        <input
          class="contact-form__input"
          type="email"
          id="email"
          name="email"
          placeholder="your.email@example.com"
          [(ngModel)]="formData.email"
          required>
      </div>
    </div>

    <div class="contact-form__field">
      <label class="contact-form__label" for="phone">Phone Number</label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M17.9 15.2C16.6 15.2 15.3 15 14.1 14.6C13.8 14.5 13.4 14.6 13.2 14.8L11.4 17.2C8.5 15.9 4.1 11.6 2.8 8.6L5.2 6.8C5.4 6.6 5.5 6.2 5.4 5.9C5 4.7 4.8 3.4 4.8 2.1C4.8 1.5 4.3 1 3.7 1H1.1C0.5 1 0 1.5 0 2.1C0 11.4 7.6 19 16.9 19C17.5 19 18 18.5 18 17.9V15.3C18 14.7 17.5 14.2 16.9 14.2L17.9 15.2Z" fill="currentColor"/>
        </svg>
        <input
          class="contact-form__input"
          type="tel"
          id="phone"
          name="phone"
          placeholder="+1 (555) 123-4567"
          [(ngModel)]="formData.phone"
          required>
      </div>
    </div>

    @if (formData.userType === 'company') {
      <div class="contact-form__field">
        <label class="contact-form__label" for="companyName">Company Name</label>
        <div class="contact-form__input-wrapper">
          <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M2 19H8V11H12V19H18V9L10 3L2 9V19ZM0 21V8L10 0L20 8V21H10V13H10V21H0Z" fill="currentColor"/>
          </svg>
          <input
            class="contact-form__input"
            type="text"
            id="companyName"
            name="companyName"
            placeholder="Your company name"
            [(ngModel)]="formData.companyName">
        </div>
      </div>
    }

    @if (formData.userType === 'applicant') {
      <div class="contact-form__field">
        <label class="contact-form__label" for="cvFile">
          Upload CV/Resume
          <span class="contact-form__label-optional">(Optional)</span>
        </label>
        @if (!selectedFileName) {
          <label class="contact-form__file-upload" for="cvFile">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="currentColor"/>
            </svg>
            <span class="contact-form__file-upload-text">
              <span class="contact-form__file-upload-title">Click to upload CV</span>
              <span class="contact-form__file-upload-subtitle">PDF or Word (Max 5MB)</span>
            </span>
          </label>
        } @else {
          <div class="contact-form__file-selected">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M11 1H3C2.45 1 2 1.45 2 2V18C2 18.55 2.45 19 3 19H17C17.55 19 18 18.55 18 18V8L11 1ZM13 9V2.5L16.5 9H13Z" fill="currentColor"/>
            </svg>
            <span class="contact-form__file-name">{{ selectedFileName }}</span>
            <button type="button" class="contact-form__file-remove" (click)="removeFile()">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        }
        <input
          type="file"
          id="cvFile"
          name="cvFile"
          class="contact-form__file-input"
          accept=".pdf,.doc,.docx"
          (change)="onFileSelected($event)">
        <span class="contact-form__hint">Accepted formats: PDF, DOC, DOCX (Max size: 5MB)</span>
      </div>
    }

    <div class="contact-form__field contact-form__field--full">
      <label class="contact-form__label" for="service">
        @if (formData.userType === 'applicant') {
          Position Interested In
        } @else {
          Service Interested In
        }
      </label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M2 4C2 2.9 2.9 2 4 2H7L8 4H16C17.1 4 18 4.9 18 6V16C18 17.1 17.1 18 16 18H4C2.9 18 2 17.1 2 16V4Z" fill="currentColor"/>
        </svg>
        <select
          class="contact-form__select"
          id="service"
          name="service"
          [(ngModel)]="formData.service"
          required>
          <option value="" disabled selected>Select a service</option>
          @for (service of availableServices; track service.id) {
            <option [value]="service.id">{{ service.label }}</option>
          }
        </select>
      </div>
    </div>

    <div class="contact-form__field contact-form__field--full">
      <label class="contact-form__label" for="message">Message</label>
      <div class="contact-form__input-wrapper">
        <svg class="contact-form__input-icon contact-form__input-icon--textarea" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M18 0H2C0.9 0 0 0.9 0 2V20L4 16H18C19.1 16 20 15.1 20 14V2C20 0.9 19.1 0 18 0ZM16 12H4V10H16V12ZM16 9H4V7H16V9ZM16 6H4V4H16V6Z" fill="currentColor"/>
        </svg>
        <textarea
          class="contact-form__textarea"
          id="message"
          name="message"
          rows="5"
          placeholder="Tell us about your needs or questions..."
          [(ngModel)]="formData.message"
          required></textarea>
      </div>
    </div>

    <button type="submit" class="contact-form__submit">
      {{ submitButtonText }}
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 10L17 10M17 10L11 4M17 10L11 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <p class="contact-form__privacy">
      By submitting this form, you agree to our privacy policy and terms of service.
    </p>
  </form>
</div>
