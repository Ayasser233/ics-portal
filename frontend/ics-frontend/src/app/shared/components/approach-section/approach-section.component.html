<section class="approach-section">
  <div class="approach-section__container">
    @if (title) {
      <h2 class="approach-section__title">{{ title }}</h2>
    }

    @if (items.length > 0) {
      <div class="slider-wrapper">
        <!-- Slider Container -->
        <div class="slider-container">
          @for (item of items; track item.title; let i = $index) {
            <div class="slide" [class.active]="i === currentIndex">
              <div class="slide__image-wrapper">
                <picture>
                  @if (item.mobileImage) {
                    <source [srcset]="item.mobileImage" media="(max-width: 768px)" />
                  }
                  <img [src]="item.image" [alt]="item.title" class="slide__image" />
                </picture>
                <div class="slide__overlay"></div>
              </div>
              <div class="slide__content">
                <h3 class="slide__title">{{ item.title }}</h3>
                <p class="slide__description">{{ item.description }}</p>
              </div>
            </div>
          }
        </div>

        <!-- Navigation Arrows -->
        @if (items.length > 1) {
          <button class="slider-nav slider-nav--prev" (click)="prev()" aria-label="Previous slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button class="slider-nav slider-nav--next" (click)="next()" aria-label="Next slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <!-- Indicators -->
          <div class="slider-indicators">
            @for (item of items; track item.title; let i = $index) {
              <button
                class="slider-indicator"
                [class.active]="i === currentIndex"
                (click)="goToSlide(i)"
                [attr.aria-label]="'Go to slide ' + (i + 1)"
              ></button>
            }
          </div>
        }
      </div>
    }
  </div>
</section>
